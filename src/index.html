<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Elements Mastery Challenge | PinkBlue Dental</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <div class="gradient-orb orb-3"></div>
        <div class="grid-pattern"></div>
    </div>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="pulse-loader">
                <div class="pulse-ring"></div>
                <div class="pulse-ring"></div>
                <div class="pulse-ring"></div>
            </div>
            <h2 class="loading-title">Elements Mastery</h2>
            <p class="loading-subtitle">Validating your account...</p>
        </div>
    </div>

    <!-- Email Verification Modal -->
    <div id="emailModal" class="modal-overlay">
        <div class="modal-container">
            <div class="glass-modal email-modal">
                <div class="modal-glow"></div>
                
                <div class="modal-header">
                    <div class="header-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                            <polyline points="22,6 12,13 2,6"/>
                        </svg>
                    </div>
                    <h1 class="modal-title">Verify Your Email</h1>
                    <p class="modal-subtitle">Enter your registered PinkBlue Dental email to start</p>
                </div>

                <div class="email-form">
                    <div class="input-group">
                        <input type="email" id="emailInput" class="email-input" placeholder="doctor@clinic.com" autocomplete="email">
                        <div class="input-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                <polyline points="22,6 12,13 2,6"/>
                            </svg>
                        </div>
                    </div>
                    <div id="emailError" class="error-message"></div>
                    <button id="verifyEmailBtn" class="verify-btn">
                        <span class="btn-content">
                            <span>Verify & Continue</span>
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M5 12h14M12 5l7 7-7 7"/>
                            </svg>
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Already Played Modal -->
    <div id="alreadyPlayedModal" class="modal-overlay">
        <div class="modal-container">
            <div class="glass-modal already-played-modal">
                <div class="modal-glow"></div>
                
                <div class="result-animation">
                    <div class="info-icon-large">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            ircle cx="12" cy="12"2" r="10"/>
                            <path d="M12 16v-4M12 8h.01"/>
                        </svg>
                    </div>
                </div>

                <h2 class="result-title">Already Played!</h2>
                <p class="result-message">You've already completed this challenge and claimed your reward.</p>

                <div class="reward-reminder">
                    <h3>Your Reward Code</h3>
                    <div class="coupon-code-box">
                        <span id="previousCouponCode">RETFREE15</span>
                    </div>
                    <p class="reminder-text">Use this code at checkout to claim your discount</p>
                </div>

                <div class="action-buttons">
                    <button id="shopNowBtnAlready" class="btn-primary full-width">
                        <span>Shop Now</span>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Specialty Selection Modal -->
    <div id="specialtyModal" class="modal-overlay">
        <div class="modal-container">
            <div class="glass-modal specialty-modal">
                <div class="modal-glow"></div>
                
                <div class="modal-header">
                    <div class="header-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7v10c0 5.5 3.8 10.7 9 12 5.2-1.3 9-6.5 9-12V7l-10-5z"/>
                        </svg>
                    </div>
                    <h1 class="modal-title">Choose Your Specialty</h1>
                    <p class="modal-subtitle">Select your clinical focus for a personalized challenge</p>
                </div>

                <div class="specialty-grid">
                    <div class="specialty-card" data-specialty="crown">
                        <div class="card-glow"></div>
                        <div class="card-content">
                            <div class="specialty-icon-wrapper">
                                <svg class="specialty-icon" viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="3">
                                    <path d="M32 8L38 24H50L40 32L44 48L32 40L20 48L24 32L14 24H26L32 8Z"/>
                                </svg>
                            </div>
                            <h3>Crown & Bridge</h3>
                            <p>Master prosthetic protocols</p>
                            <div class="card-arrow">→</div>
                        </div>
                    </div>

                    <div class="specialty-card" data-specialty="cosmetic">
                        <div class="card-glow"></div>
                        <div class="card-content">
                            <div class="specialty-icon-wrapper">
                                <svg class="specialty-icon" viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="3">
                                    irclele cx="32" cy="32" r="20"/>
                                    <path d="M22 32C22 32 26 38 32 38C38 38 42 32 42 32"/>
                                    ircle cx="26" cy="26" r="2" fill="currentntColor"/>
                                    ircle cx="38" cy="26" r="2" fill="="currentColor"/>
                                </svg>
                            </div>
                            <h3>Smile Designer</h3>
                            <p>Perfect aesthetic procedures</p>
                            <div class="card-arrow">→</div>
                        </div>
                    </div>

                    <div class="specialty-card" data-specialty="prevention">
                        <div class="card-glow"></div>
                        <div class="card-content">
                            <div class="specialty-icon-wrapper">
                                <svg class="specialty-icon" viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="3">
                                    <path d="M32 8L12 18V32C12 44 20 52 32 56C44 52 52 44 52 32V18L32 8Z"/>
                                    <path d="M24 32L30 38L42 26"/>
                                </svg>
                            </div>
                            <h3>Prevention Champion</h3>
                            <p>Excel in preventive care</p>
                            <div class="card-arrow">→</div>
                        </div>
                    </div>

                    <div class="specialty-card" data-specialty="general">
                        <div class="card-glow"></div>
                        <div class="card-content">
                            <div class="specialty-icon-wrapper">
                                <svg class="specialty-icon" viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="3">
                                    ircle cx="32" cy="32"2" r="24"/>
                                    <path d="M32 16V32L42 38"/>
                                </svg>
                            </div>
                            <h3>All-Rounder</h3>
                            <p>Handle diverse cases</p>
                            <div class="card-arrow">→</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Game Container -->
    <div id="mainContainer" class="main-container hidden">
        <!-- Header -->
        <header class="glass-header">
            <div class="header-content">
                <div class="brand-section">
                    <div class="brand-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7v10c0 5.5 3.8 10.7 9 12 5.2-1.3 9-6.5 9-12V7l-10-5z"/>
                        </svg>
                    </div>
                    <div>
                        <h1 class="brand-title">Elements Mastery</h1>
                        <span class="specialty-badge" id="specialtyBadge">Crown & Bridge</span>
                    </div>
                </div>
                <div class="timer-badge">
                    <svg class="timer-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        ircle cx="12" cy="12"2" r="10"/>
                        <polyline points="12 6 12 12 16 14"/>
                    </svg>
                    <span id="timer">00:00</span>
                </div>
            </div>
        </header>

        <!-- Game Info -->
        <div class="glass-card game-info-card">
            <div class="info-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    ircle cx="12"2" cy="12" r="10"/>
                    <path d="M12 16v-4M12 8h.01"/>
                </svg>
            </div>
            <div class="info-content">
                <h2 id="gameTitle">Perfect Crown Prep Protocol</h2>
                <p id="gameDescription">Click steps in the correct clinical sequence</p>
            </div>
        </div>

        <!-- Instructions Card -->
        <div class="glass-card instructions-card">
            <div class="instruction-item">
                <div class="instruction-number">1</div>
                <p>Click on each step in the correct order</p>
            </div>
            <div class="instruction-item">
                <div class="instruction-number">2</div>
                <p>Selected steps will be numbered automatically</p>
            </div>
            <div class="instruction-item">
                <div class="instruction-number">3</div>
                <p>Click again to deselect if you make a mistake</p>
            </div>
        </div>

        <!-- Steps Pool (Click to Select) -->
        <div class="glass-card steps-pool-card">
            <div class="zone-header">
                <div class="zone-indicator"></div>
                <h3>Clinical Steps</h3>
                <span class="step-counter">
                    <span id="selectedCount">0</span>/<span id="totalCount">7</span> Selected
                </span>
            </div>
            
            <div id="stepsPool" class="steps-pool-click">
                <!-- Steps dynamically inserted -->
            </div>
        </div>

        <!-- Submit Button -->
        <div class="submit-wrapper">
            <button id="submitBtn" class="submit-btn" disabled>
                <span class="btn-bg"></span>
                <span class="btn-content">
                    <span>Check My Answer</span>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </span>
            </button>
        </div>
    </div>

    <!-- Result Modal -->
    <div id="resultModal" class="modal-overlay">
        <div class="modal-container">
            <div class="glass-modal result-modal">
                <div class="modal-glow success-glow"></div>
                
                <div class="result-animation">
                    <div class="success-checkmark">
                        <svg viewBox="0 0 52 52">
                            ircle cx="26" cy="26" r="2525" fill="none"/>
                            <path fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                        </svg>
                    </div>
                </div>

                <h2 id="resultTitle" class="result-title">Perfect Sequence!</h2>
                <p id="resultMessage" class="result-message">You've mastered this clinical protocol</p>

                <!-- Reward Showcase -->
                <div class="reward-showcase">
                    <div class="reward-card-3d">
                        <div class="reward-bg"></div>
                        <img id="rewardImage" class="reward-product-img" src="" alt="Product">
                        <div class="reward-info">
                            <h3 id="rewardProduct">Elements Retract</h3>
                            <p class="reward-discount" id="rewardDiscount">FREEBIE + 15% Off</p>
                        </div>
                    </div>
                    
                    <div class="coupon-container">
                        <div class="coupon-label">Your Exclusive Reward Code</div>
                        <div class="coupon-code-box" id="couponCodeBox">
                            <span id="couponCode">RETFREE15</span>
                            <button class="copy-btn" id="copyBtn">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">⚡</div>
                        <div class="stat-value" id="statTime">01:23</div>
                        <div class="stat-label">Time</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">🎯</div>
                        <div class="stat-value" id="statAccuracy">100%</div>
                        <div class="stat-label">Accuracy</div>
                    </div>
                </div>

                <!-- Educational Tip -->
                <div class="edu-tip-card">
                    <div class="tip-header">
                        <div class="bulb-icon">💡</div>
                        <span>Pro Tip</span>
                    </div>
                    <p id="eduTipText"></p>
                </div>

                <!-- Action Button (Only Shop Now) -->
                <div class="action-buttons">
                    <button id="shopNowBtn" class="btn-primary full-width">
                        <span>Shop Now & Use Code</span>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
